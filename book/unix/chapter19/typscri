1,argv:/bin/bash
]0;root@byz:~/unixlink/chapter19[?1034h[root@byz chapter19]# ls
19_2.c            19_5_main.c~  [0m[01;32mpty[0m      tty_x.c~
19_2.c~           19_6.c        [01;32mscri[0m     typscri
19_4_pty_fork.c   19_6_loop.c   scri~
19_4_pty_fork.c~  19_6_loop.c~  t.c
19_5_main.c       [01;32ma.out[0m         tty_x.c
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# cat typscri 
1,argv:/bin/bash
]0;root@byz:~/unixlink/chapter19[?1034h[root@byz chapter19]# ls
19_2.c            19_5_main.c~  [0m[01;32mpty[0m      tty_x.c~
19_2.c~           19_6.c        [01;32mscri[0m     typscri
19_4_pty_fork.c   19_6_loop.c   scri~
19_4_pty_fork.c~  19_6_loop.c~  t.c
19_5_main.c       [01;32ma.out[0m         tty_x.c
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# cat typscri 
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# ps -ef|gee[K[Krep scri
root      27214  24774  0 08:13 pts/2    00:00:00 /bin/bash ./[01;31m[Kscri[m[K
root      27216  27214  0 08:13 pts/2    00:00:00 tee typ[01;31m[Kscri[m[K
root      27232  27217  0 08:13 pts/0    00:00:00 grep --color=auto [01;31m[Kscri[m[K
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# ps -ef|[K[K[K[K[Ks[Ktree -e[Kp 27216
tee(27216)
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27216 -s
systemd(1)â”€â”€â”€sshd(1105)â”€â”€â”€sshd(24770)â”€â”€â”€bash(2477+
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27216 -s
systemd(1)â”€â”€â”€sshd(1105)â”€â”€â”€sshd(24770)â”€â”€â”€bash(2477+
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27216 -s|more
systemd(1)---sshd(1105)---sshd(24770)---bash(24774
)---scri(27214)---tee(27216)
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27216 -s|more[K[K -ef|grep scri[K[K[K[Kbash
root      24729  24703  0 Dec24 pts/3    00:00:00 -[01;31m[Kbash[m[K
root      24774  24770  0 Dec24 pts/2    00:00:00 -[01;31m[Kbash[m[K
root      27214  24774  0 08:13 pts/2    00:00:00 /bin/[01;31m[Kbash[m[K ./scri
root      27215  27214  0 08:13 pts/2    00:00:00 ./pty /bin/[01;31m[Kbash[m[K
root      27217  27215  0 08:13 pts/0    00:00:00 /bin/[01;31m[Kbash[m[K
root      27218  27215  0 08:13 pts/2    00:00:00 ./pty /bin/[01;31m[Kbash[m[K
root      27239  27217  0 08:16 pts/0    00:00:00 grep --color=auto [01;31m[Kbash[m[K
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# who
root     pts/2        2016-12-24 21:40 (192.168.80.1)
root     pts/3        2016-12-24 21:33 (192.168.80.1)
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# whops -ef|grep bashtree -p 27216 -s|more[K[1P -s[1P -s1 -s5 -s
systemd(1)â”€â”€â”€sshd(1105)â”€â”€â”€sshd(24770)â”€â”€â”€bash(2477+
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27215 -s|more
systemd(1)---sshd(1105)---sshd(24770)---bash(24774
)---scri(27214)---pty(27215)-+-bash(27217)-+-more(
27261)
                                                  
                             |             `-pstre
e(27260)
                                                  
                             `-pty(27218)
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27215 -s|more
systemd(1)---sshd(1105)---sshd(24770)---bash(24774
)---scri(27214)---pty(27215)-+-bash(27217)-+-more(
27263)
                                                  
                             |             `-pstre
e(27262)
                                                  
                             `-pty(27218)
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -p 27215 -s|more[K[K[K[K[K[K[K[K[K[K[K[K[K[K[Ka
systemd --switched-root --system
  â”œâ”€NetworkManager --no-daemon
  â”‚   â”œâ”€dhclient -d -q -sf...
  â”‚   â””â”€2*[{NetworkManager}]
  â”œâ”€agetty --noclear tty1 linux
  â”œâ”€auditd -n
  â”‚   â””â”€{auditd}
  â”œâ”€crond -n
  â”œâ”€dbus-daemon --system --address=systemd:--nof
  â”‚   â””â”€{dbus-daemon}
  â”œâ”€lvmetad -f
  â”œâ”€master -w
  â”‚   â”œâ”€pickup -l -t unix -u
  â”‚   â””â”€qmgr -l -t unix -u
  â”œâ”€mysqld --daemonize--pid-file=/var/run/m
  â”‚   â””â”€26*[{mysqld}]
  â”œâ”€polkitd --no-debug
  â”‚   â””â”€5*[{polkitd}]
  â”œâ”€rsyslogd -n
  â”‚   â””â”€2*[{rsyslogd}]
  â”œâ”€server2
  â”œâ”€sshd -D
  â”‚   â”œâ”€sshd    
  â”‚   â”‚   â””â”€bash
  â”‚   â”‚       â””â”€emacs
  â”‚   â””â”€sshd    
  â”‚       â””â”€bash
  â”‚           â””â”€scri ./scri
  â”‚               â”œâ”€pty /bin/bash
  â”‚               â”‚   â”œâ”€bash
  â”‚               â”‚   â”‚   â””â”€pstree -a
  â”‚               â”‚   â””â”€pty /bin/bash
  â”‚               â””â”€tee typscri
  â”œâ”€systemd-journal
  â”œâ”€systemd-logind
  â”œâ”€systemd-udevd
  â”œâ”€tuned -Es /usr/sbin/tuned -l -P
  â”‚   â””â”€4*[{tuned}]
  â””â”€wpa_supplicant -u -f/var/log/wpa_suppli
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# pstree -a -p
systemd,1 --switched-root --system
  â”œâ”€NetworkManager,886 --no-daemon
  â”‚   â”œâ”€dhclient,25410 -d -q -sf...
  â”‚   â”œâ”€{NetworkManager},896
  â”‚   â””â”€{NetworkManager},900
  â”œâ”€agetty,895 --noclear tty1 linux
  â”œâ”€auditd,849 -n
  â”‚   â””â”€{auditd},858
  â”œâ”€crond,890 -n
  â”œâ”€dbus-daemon,876 --system ...
  â”‚   â””â”€{dbus-daemon},885
  â”œâ”€lvmetad,731 -f
  â”œâ”€master,1736 -w
  â”‚   â”œâ”€pickup,26857 -l -t unix -u
  â”‚   â””â”€qmgr,1743 -l -t unix -u
  â”œâ”€mysqld,1192 --daemonize--pid-file=/var/run/m
  â”‚   â”œâ”€{mysqld},1409
  â”‚   â”œâ”€{mysqld},1425
  â”‚   â”œâ”€{mysqld},1426
  â”‚   â”œâ”€{mysqld},1427
  â”‚   â”œâ”€{mysqld},1428
  â”‚   â”œâ”€{mysqld},1429
  â”‚   â”œâ”€{mysqld},1430
  â”‚   â”œâ”€{mysqld},1431
  â”‚   â”œâ”€{mysqld},1432
  â”‚   â”œâ”€{mysqld},1433
  â”‚   â”œâ”€{mysqld},1434
  â”‚   â”œâ”€{mysqld},1437
  â”‚   â”œâ”€{mysqld},1747
  â”‚   â”œâ”€{mysqld},1748
  â”‚   â”œâ”€{mysqld},1749
  â”‚   â”œâ”€{mysqld},1750
  â”‚   â”œâ”€{mysqld},1751
  â”‚   â”œâ”€{mysqld},1752
  â”‚   â”œâ”€{mysqld},1753
  â”‚   â”œâ”€{mysqld},1754
  â”‚   â”œâ”€{mysqld},1767
  â”‚   â”œâ”€{mysqld},1768
  â”‚   â”œâ”€{mysqld},1769
  â”‚   â”œâ”€{mysqld},1770
  â”‚   â”œâ”€{mysqld},2125
  â”‚   â””â”€{mysqld},2127
  â”œâ”€polkitd,904 --no-debug
  â”‚   â”œâ”€{polkitd},906
  â”‚   â”œâ”€{polkitd},907
  â”‚   â”œâ”€{polkitd},908
  â”‚   â”œâ”€{polkitd},909
  â”‚   â””â”€{polkitd},910
  â”œâ”€rsyslogd,872 -n
  â”‚   â”œâ”€{rsyslogd},881
  â”‚   â””â”€{rsyslogd},882
  â”œâ”€server2,20234
  â”œâ”€sshd,1105 -D
  â”‚   â”œâ”€sshd,24703    
  â”‚   â”‚   â””â”€bash,24729
  â”‚   â”‚       â””â”€emacs,26935
  â”‚   â””â”€sshd,24770    
  â”‚       â””â”€bash,24774
  â”‚           â””â”€scri,27214 ./scri
  â”‚               â”œâ”€pty,27215 /bin/bash
  â”‚               â”‚   â”œâ”€bash,27217
  â”‚               â”‚   â”‚   â””â”€pstree,27265 -a ...
  â”‚               â”‚   â””â”€pty,27218 /bin/bash
  â”‚               â””â”€tee,27216 typscri
  â”œâ”€systemd-journal,721
  â”œâ”€systemd-logind,887
  â”œâ”€systemd-udevd,747
  â”œâ”€tuned,1104 -Es /usr/sbin/tuned -l -P
  â”‚   â”œâ”€{tuned},1331
  â”‚   â”œâ”€{tuned},1333
  â”‚   â”œâ”€{tuned},1336
  â”‚   â””â”€{tuned},1344
  â””â”€wpa_supplicant,903 -u -f/var/log/wpa_suppli
]0;root@byz:~/unixlink/chapter19[root@byz chapter19]# exit
exit
